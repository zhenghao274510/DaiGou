{"version":3,"sources":["webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?8e6f","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?ba9a","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?f67e","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?ecd8","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?e16a","webpack:///D:/lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue?c777"],"names":["data","props","canvasFlag","type","Boolean","default","posterObj","Object","url","text","code","methods","roundRect","ctx","x","y","w","h","r","fillColor","strokeColor","btn","beginPath","arc","Math","PI","moveTo","lineTo","grd","createLinearGradient","addColorStop","setFillStyle","fill","setStrokeStyle","stroke","closePath","clip","canvasMultiLineText","contentWidth","lineNumber","textArray","split","temp","row","i","length","measureText","width","push","rowCut","slice","rowPart","test","empty","a","group","splice","codeImg","Promise","resolve","reject","request","method","header","version","$parent","globalData","scene","sku","page","then","res","fsm","wx","getFileSystemManager","FILE_BASE_NAME","filePath","env","USER_DATA_PATH","writeFile","encoding","success","fail","uni","showToast","title","duration","icon","message","catch","createCanvasImage","console","log","showLoading","_this","phoneData","getSystemInfoSync","phoneH","windowHeight","phoneW","windowWidth","scaleW","scaleH","createCanvasContext","draw","save","restore","getImageInfo","src","drawImage","path","setFontSize","font","fillText","hideLoading","saveCanvasImage","canvasToTempFilePath","height","destWidth","destHeight","canvasId","saveImageToPhotosAlbum","tempFilePath","res2","canvasCancelEvn","$emit"],"mappings":"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","file":"wxcomponents/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns } from \"./hch-poster.vue?vue&type=template&id=4f40e63a&\"\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\迅雷下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4f40e63a', component.options)\n    } else {\n      api.reload('4f40e63a', component.options)\n    }\n    module.hot.accept(\"./hch-poster.vue?vue&type=template&id=4f40e63a&\", function () {\n      api.rerender('4f40e63a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"lixindom/model/代购/uni-model/wxcomponents/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=4f40e63a&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\n\t\t}\n\t},\n\tprops: {\n\t\tcanvasFlag: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tposterObj: {\n\t\t\ttype: Object,\n\t\t\tdefault: {\n\t\t\t\turl: 'https://data.photo-ac.com/data/thumbnails/2a/2ad5a7429a55956c92f33372cfcd34d6_w.jpeg', //商品主图\n\t\t\t\ttext: \"苏晓晴\",\n\t\t\t\tcode: 'https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png', //小程序码\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 海报\n\t\t// 画圆角矩形 ctx、x起点、y起点、w宽度、h高度、r圆角半径、fillColor填充颜色、strokeColor边框颜色\n\t\troundRect(ctx, x, y, w, h, r, fillColor, strokeColor, btn) {\n\t\t\t// 开始绘制\n\t\t\tctx.beginPath()\n\t\t\t// 绘制左上角圆弧 Math.PI = 180度\n\t\t\t// 圆心x起点、圆心y起点、半径、以3点钟方向顺时针旋转后确认的起始弧度、以3点钟方向顺时针旋转后确认的终止弧度\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\n\t\t\t// 绘制border-top\n\t\t\t// 移动起点位置 x终点、y终点\n\t\t\tctx.moveTo(x + r, y)\n\t\t\t// 画一条线 x终点、y终点\n\t\t\tctx.lineTo(x + w - r, y)\n\t\t\t// 绘制右上角圆弧\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\n\t\t\t// 绘制border-right\n\t\t\tctx.lineTo(x + w, y + h - r)\n\t\t\t// 绘制右下角圆弧\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\n\t\t\t// 绘制左下角圆弧\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\n\n\t\t\t// 绘制border-left\n\t\t\tctx.lineTo(x, y + r)\n\t\t\tif (btn == 'btn') {\n\t\t\t\tconst grd = ctx.createLinearGradient(0, 0, 200, 0) //渐变色\n\t\t\t\tgrd.addColorStop(0, fillColor)\n\t\t\t\tgrd.addColorStop(1, strokeColor)\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setFillStyle(grd)\n\t\t\t\t// 对绘画区域填充\n\t\t\t\tctx.fill()\n\t\t\t} else {\n\n\t\t\t\tif (fillColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setFillStyle(fillColor)\n\t\t\t\t\t// 对绘画区域填充\n\t\t\t\t\tctx.fill()\n\t\t\t\t}\n\t\t\t\tif (strokeColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setStrokeStyle(strokeColor)\n\t\t\t\t\t// 画出当前路径的边框\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 关闭一个路径\n\t\t\tctx.closePath()\n\t\t\t// 剪切，剪切之后的绘画绘制剪切区域内进行，需要save与restore 这个很重要 不然没办法保存\n\t\t\tctx.clip()\n\t\t},\n\n\t\t/**\n\t\t * canvas绘图相关，把文字转化成只能行数，多余显示省略号\n\t\t * ctx: 当前的canvas\n\t\t * text: 文本\n\t\t * contentWidth: 文本最大宽度\n\t\t * lineNumber: 显示几行\n\t\t */\n\t\tcanvasMultiLineText(ctx, text, contentWidth, lineNumber) {\n\t\t\tvar textArray = text.split(\"\"); // 分割成字符串数组\n\t\t\tvar temp = \"\";\n\t\t\tvar row = [];\n\t\t\tfor (let i = 0; i < textArray.length; i++) {\n\t\t\t\tif (ctx.measureText(temp).width < contentWidth) {\n\t\t\t\t\ttemp += text[i];\n\t\t\t\t} else {\n\t\t\t\t\ti--; // 这里添加i--是为了防止字符丢失\n\t\t\t\t\trow.push(temp);\n\t\t\t\t\ttemp = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.push(temp);\n\n\t\t\t// 如果数组长度大于2，则截取前两个\n\t\t\tif (row.length > lineNumber) {\n\t\t\t\tvar rowCut = row.slice(0, lineNumber);\n\t\t\t\tvar rowPart = rowCut[1];\n\t\t\t\tvar test = \"\";\n\t\t\t\tvar empty = [];\n\t\t\t\tfor (var a = 0; a < rowPart.length; a++) {\n\t\t\t\t\tif (ctx.measureText(test).width < contentWidth) {\n\t\t\t\t\t\ttest += rowPart[a];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tempty.push(test); // 处理后面加省略号\n\t\t\t\tvar group = empty[0] + '...'\n\t\t\t\trowCut.splice(lineNumber - 1, 1, group);\n\t\t\t\trow = rowCut;\n\t\t\t}\n\t\t\treturn row;\n\t\t},\n\t\t// 获取海报的小程序码\n\t\tcodeImg() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\trequest({\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\turl: '/spSupport/getwxacodeunlimit',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tversion: this.$parent.globalData.version,\n\t\t\t\t\t\tscene: `sku=${this.sku}`,\n\t\t\t\t\t\tpage: \"pages/product/detail\",\n\t\t\t\t\t\twidth: \"128px\",\n\t\t\t\t\t},\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tconst fsm = wx.getFileSystemManager();\n\t\t\t\t\t\tconst FILE_BASE_NAME = 'tmp_img_src';\n\t\t\t\t\t\tlet filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.jpg`;\n\t\t\t\t\t\tfsm.writeFile({\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\tdata: res.data.data,\n\t\t\t\t\t\t\tencoding: 'binary',\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tresolve(filePath)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\tthis.canvasFlag = true;\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '海报生成失败',\n\t\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.canvasFlag = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '海报生成失败',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 生成海报\n\t\tcreateCanvasImage() {\n\t\t\tconsole.log(this.posterObj, 'posterObj')\n\t\t\t// this.canvasFlag=false;\n\t\t\t// this.deliveryFlag = false;//关闭分享的弹窗\n\t\t\tconsole.log(\"海报生成中\")\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '海报生成中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\tlet phoneData = wx.getSystemInfoSync();\n\t\t\tthis.phoneH = phoneData.windowHeight;\n\t\t\tthis.phoneW = phoneData.windowWidth;\n\t\t\tlet scaleW = this.phoneW / 375; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tlet scaleH = this.phoneH / 667; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tconsole.log(this.phoneH, this.phoneW)\n\t\t\tconst ctx = wx.createCanvasContext('myCanvas');\n\t\t\tlet url = this.posterObj.url; //商品主图\n\t\t\tlet code = this.posterObj.code\n\t\t\tconsole.log(ctx)\n\t\t\tconsole.log(this)\n\t\t\tctx.draw() //清空原来的画图内容\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx, 60, 100, (this.phoneW - 120), (this.phoneH - 240), 0, '#fff', '#fff'); //绘制海报圆角背景白色的\n\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\tctx.save();\n\n\t\t\t//将网络图片转成本地路径 商品图片\n\t\t\twx.getImageInfo({\n\t\t\t\tsrc: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\t//覆盖绘制\n\t\t\t\t\t//问题：在微信小程序使用canvas绘制圆角图片时，微信调试工具正常显示，android真机都不显示。\n\t\t\t\t\t// 原因：因为ctx.clip()剪切区域使用的填充颜色是透明的，所以图片没出来。\n\t\t\t\t\t// 解决方案：将剪切区域设置成实体颜色就好了。\n\t\t\t\t\tctx.drawImage(res.path, 60, 100, (_this.phoneW - 120), 260 * scaleH, 0); //绘制图\n\t\t\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\t_this.canvasFlag = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '海报生成失败',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 小程序码\n\t\t\twx.getImageInfo({\n\t\t\t\tsrc: code,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tctx.drawImage(res.path, 75, _this.phoneH / 2 + 60, 60, 60)\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\t_this.canvasFlag = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '海报生成失败',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t})\n\t\t\t// });\n\t\t\t// 关闭按钮\n\t\t\t// ctx.drawImage(\"/static/image/quxiao@2x.png\", _this.phoneW / 2, 40, 24, 24);\n\t\t\t// ctx.draw(true);\n\t\t\t// ctx.drawImage(\"/static/image/baocundaobendi@2x.png\", _this.phoneW / 2 - 20, (_this.phoneH - 140), 40, 40);\n\t\t\t// ctx.draw(true);\n\t\t\t// 关闭按钮 end\n\n\t\t\t// 小程序码end\n\n\t\t\t// 小程序的名称end\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#111111') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\tctx.fillText('长按识别小程序', _this.phoneW / 2 - 40, _this.phoneH / 2+80,  70, 70);\n\t\t\t// 长按/扫描识别查看商品end\n\t\t\t//绘制保存按钮\n\t\t\tctx.save();\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#FFFFFF') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\t//绘制保存按钮\n\t\t\tctx.save();\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#333333') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\tctx.fillText(`分享来自${_this.posterObj.text}`, _this.phoneW / 2-40, _this.phoneH / 2 + 110, 90);\n\t\t\t// this.roundRect(ctx, (this.phoneW - 160) / 2, (this.phoneH - 55), 160, 36, 18, '#ff3600', '#ff6a00', 'btn')\n\t\t\tctx.restore();\n\t\t\twx.hideLoading();\n\t\t},\n\n\t\t// 保存到系统相册\n\t\tsaveCanvasImage() {\n\t\t\tconsole.log('点击了保存')\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '保存中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\t// 1-把画布转化成临时文件\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: 50,\n\t\t\t\ty: 40,\n\t\t\t\twidth: (this.phoneW - 100), // 画布的宽\n\t\t\t\theight: (this.phoneH - 120), // 画布的高\n\t\t\t\tdestWidth: (this.phoneW - 100) * 5,\n\t\t\t\tdestHeight: (this.phoneH - 120) * 5,\n\t\t\t\tcanvasId: 'myCanvas',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t// 2-保存图片至相册\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\twx.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '图片保存成功，可以去分享啦~',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t_this.canvasCancelEvn();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twx.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存失败，稍后再试',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 取消海报\n\t\tcanvasCancelEvn() {\n\t\t\tconsole.log()\n\t\t\tthis.$emit('cancel', true)\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}