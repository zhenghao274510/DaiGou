{"version":3,"sources":["webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?1da9","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?bf41","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?19fd","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?1413","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?89f9","webpack:///D:/lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue?6f6a"],"names":["data","props","canvasFlag","type","Boolean","default","posterObj","Object","url","text","methods","roundRect","ctx","x","y","w","h","r","fillColor","strokeColor","btn","beginPath","arc","Math","PI","moveTo","lineTo","grd","createLinearGradient","addColorStop","setFillStyle","fill","setStrokeStyle","stroke","closePath","clip","canvasMultiLineText","contentWidth","lineNumber","textArray","split","temp","row","i","length","measureText","width","push","rowCut","slice","rowPart","test","empty","a","group","splice","createCanvasImage","console","log","wx","showLoading","title","_this","phoneData","getSystemInfoSync","phoneH","windowHeight","phoneW","windowWidth","scaleW","scaleH","createCanvasContext","code","draw","save","restore","getImageInfo","src","success","res","drawImage","path","fail","setFontSize","font","fillText","hideLoading","saveCanvasImage","uni","canvasToTempFilePath","height","destWidth","destHeight","canvasId","saveImageToPhotosAlbum","filePath","tempFilePath","res2","showToast","duration","canvasCancelEvn","icon","$emit"],"mappings":"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","file":"components/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=18f9c299&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\迅雷下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('18f9c299')) {\n      api.createRecord('18f9c299', component.options)\n    } else {\n      api.reload('18f9c299', component.options)\n    }\n    module.hot.accept(\"./hch-poster.vue?vue&type=template&id=18f9c299&\", function () {\n      api.rerender('18f9c299', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"lixindom/model/代购/uni-model/components/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=18f9c299&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\n\t\t}\n\t},\n\tprops: {\n\t\tcanvasFlag: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tposterObj: {\n\t\t\ttype: Object,\n\t\t\tdefault: {\n\t\t\t\turl: 'https://data.photo-ac.com/data/thumbnails/2a/2ad5a7429a55956c92f33372cfcd34d6_w.jpeg', //商品主图\n\t\t\t\ttext: \"苏晓晴\",\n\t\t\t\t// code: 'https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png', //小程序码\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 海报\n\t\t// 画圆角矩形 ctx、x起点、y起点、w宽度、h高度、r圆角半径、fillColor填充颜色、strokeColor边框颜色\n\t\troundRect(ctx, x, y, w, h, r, fillColor, strokeColor, btn) {\n\t\t\t// 开始绘制\n\t\t\tctx.beginPath()\n\t\t\t// 绘制左上角圆弧 Math.PI = 180度\n\t\t\t// 圆心x起点、圆心y起点、半径、以3点钟方向顺时针旋转后确认的起始弧度、以3点钟方向顺时针旋转后确认的终止弧度\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\n\t\t\t// 绘制border-top\n\t\t\t// 移动起点位置 x终点、y终点\n\t\t\tctx.moveTo(x + r, y)\n\t\t\t// 画一条线 x终点、y终点\n\t\t\tctx.lineTo(x + w - r, y)\n\t\t\t// 绘制右上角圆弧\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\n\t\t\t// 绘制border-right\n\t\t\tctx.lineTo(x + w, y + h - r)\n\t\t\t// 绘制右下角圆弧\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\n\t\t\t// 绘制左下角圆弧\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\n\n\t\t\t// 绘制border-left\n\t\t\tctx.lineTo(x, y + r)\n\t\t\tif (btn == 'btn') {\n\t\t\t\tconst grd = ctx.createLinearGradient(0, 0, 200, 0) //渐变色\n\t\t\t\tgrd.addColorStop(0, fillColor)\n\t\t\t\tgrd.addColorStop(1, strokeColor)\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setFillStyle(grd)\n\t\t\t\t// 对绘画区域填充\n\t\t\t\tctx.fill()\n\t\t\t} else {\n\n\t\t\t\tif (fillColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setFillStyle(fillColor)\n\t\t\t\t\t// 对绘画区域填充\n\t\t\t\t\tctx.fill()\n\t\t\t\t}\n\t\t\t\tif (strokeColor) {\n\t\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\t\tctx.setStrokeStyle(strokeColor)\n\t\t\t\t\t// 画出当前路径的边框\n\t\t\t\t\tctx.stroke()\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 关闭一个路径\n\t\t\tctx.closePath()\n\t\t\t// 剪切，剪切之后的绘画绘制剪切区域内进行，需要save与restore 这个很重要 不然没办法保存\n\t\t\tctx.clip()\n\t\t},\n\n\t\t/**\n\t\t * canvas绘图相关，把文字转化成只能行数，多余显示省略号\n\t\t * ctx: 当前的canvas\n\t\t * text: 文本\n\t\t * contentWidth: 文本最大宽度\n\t\t * lineNumber: 显示几行\n\t\t */\n\t\tcanvasMultiLineText(ctx, text, contentWidth, lineNumber) {\n\t\t\tvar textArray = text.split(\"\"); // 分割成字符串数组\n\t\t\tvar temp = \"\";\n\t\t\tvar row = [];\n\t\t\tfor (let i = 0; i < textArray.length; i++) {\n\t\t\t\tif (ctx.measureText(temp).width < contentWidth) {\n\t\t\t\t\ttemp += text[i];\n\t\t\t\t} else {\n\t\t\t\t\ti--; // 这里添加i--是为了防止字符丢失\n\t\t\t\t\trow.push(temp);\n\t\t\t\t\ttemp = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.push(temp);\n\n\t\t\t// 如果数组长度大于2，则截取前两个\n\t\t\tif (row.length > lineNumber) {\n\t\t\t\tvar rowCut = row.slice(0, lineNumber);\n\t\t\t\tvar rowPart = rowCut[1];\n\t\t\t\tvar test = \"\";\n\t\t\t\tvar empty = [];\n\t\t\t\tfor (var a = 0; a < rowPart.length; a++) {\n\t\t\t\t\tif (ctx.measureText(test).width < contentWidth) {\n\t\t\t\t\t\ttest += rowPart[a];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tempty.push(test); // 处理后面加省略号\n\t\t\t\tvar group = empty[0] + '...'\n\t\t\t\trowCut.splice(lineNumber - 1, 1, group);\n\t\t\t\trow = rowCut;\n\t\t\t}\n\t\t\treturn row;\n\t\t},\n\t\t// 获取海报的小程序码\n\t\t// codeImg() {\n\t\t// \treturn new Promise((resolve, reject) => {\n\t\t// \t\trequest({\n\t\t// \t\t\tmethod: 'get',\n\t\t// \t\t\turl: '/spSupport/getwxacodeunlimit',\n\t\t// \t\t\theader: {\n\t\t// \t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t// \t\t\t},\n\t\t// \t\t\tdata: {\n\t\t// \t\t\t\tversion: this.$parent.globalData.version,\n\t\t// \t\t\t\tscene: `sku=${this.sku}`,\n\t\t// \t\t\t\tpage: \"pages/product/detail\",\n\t\t// \t\t\t\twidth: \"128px\",\n\t\t// \t\t\t},\n\t\t// \t\t}).then((res) => {\n\t\t// \t\t\tif (res.data.code == 0) {\n\t\t// \t\t\t\tconst fsm = wx.getFileSystemManager();\n\t\t// \t\t\t\tconst FILE_BASE_NAME = 'tmp_img_src';\n\t\t// \t\t\t\tlet filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.jpg`;\n\t\t// \t\t\t\tfsm.writeFile({\n\t\t// \t\t\t\t\tfilePath,\n\t\t// \t\t\t\t\tdata: res.data.data,\n\t\t// \t\t\t\t\tencoding: 'binary',\n\t\t// \t\t\t\t\tsuccess() {\n\t\t// \t\t\t\t\t\tresolve(filePath)\n\t\t// \t\t\t\t\t},\n\t\t// \t\t\t\t\tfail() {\n\t\t// \t\t\t\t\t\tthis.canvasFlag = true;\n\t\t// \t\t\t\t\t\t// uni.showToast({\n\t\t// \t\t\t\t\t\t// \ttitle: '海报生成失败',\n\t\t// \t\t\t\t\t\t// \tduration: 2000,\n\t\t// \t\t\t\t\t\t// \ticon: 'none'\n\t\t// \t\t\t\t\t\t// });\n\t\t// \t\t\t\t\t},\n\t\t// \t\t\t\t});\n\t\t// \t\t\t} else {\n\t\t// \t\t\t\tuni.showToast({\n\t\t// \t\t\t\t\ttitle: res.data.message,\n\t\t// \t\t\t\t\ticon: 'none',\n\t\t// \t\t\t\t\tduration: 2000,\n\t\t// \t\t\t\t\ticon: 'none'\n\t\t// \t\t\t\t})\n\t\t// \t\t\t}\n\t\t// \t\t}).catch(() => {\n\t\t// \t\t\tthis.canvasFlag = true;\n\t\t// \t\t\t// uni.showToast({\n\t\t// \t\t\t// \ttitle: '海报生成失败',\n\t\t// \t\t\t// \tduration: 2000,\n\t\t// \t\t\t// \ticon: 'none'\n\t\t// \t\t\t// });\n\t\t// \t\t})\n\t\t// \t})\n\t\t// },\n\t\t// 生成海报\n\t\tcreateCanvasImage() {\n\t\t\tconsole.log(this.posterObj, 'posterObj')\n\t\t\t// this.canvasFlag=false;\n\t\t\t// this.deliveryFlag = false;//关闭分享的弹窗\n\t\t\tconsole.log(\"海报生成中\")\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '海报生成中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\tlet phoneData = wx.getSystemInfoSync();\n\t\t\tthis.phoneH = phoneData.windowHeight;\n\t\t\tthis.phoneW = phoneData.windowWidth;\n\t\t\tlet scaleW = this.phoneW / 375; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tlet scaleH = this.phoneH / 667; //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tconsole.log(this.phoneH, this.phoneW)\n\t\t\tconst ctx = wx.createCanvasContext('myCanvas');\n\t\t\tlet url = this.posterObj.url; //商品主图\n\t\t\tlet code = this.posterObj.code\n\t\t\tconsole.log(ctx)\n\t\t\tconsole.log(this)\n\t\t\tctx.draw() //清空原来的画图内容\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx, 60, 100, (this.phoneW - 120), (this.phoneH - 240), 0, '#fff', '#fff'); //绘制海报圆角背景白色的\n\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\tctx.save();\n\n\t\t\t//将网络图片转成本地路径 商品图片\n\t\t\twx.getImageInfo({\n\t\t\t\tsrc: url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\t//覆盖绘制\n\t\t\t\t\t//问题：在微信小程序使用canvas绘制圆角图片时，微信调试工具正常显示，android真机都不显示。\n\t\t\t\t\t// 原因：因为ctx.clip()剪切区域使用的填充颜色是透明的，所以图片没出来。\n\t\t\t\t\t// 解决方案：将剪切区域设置成实体颜色就好了。\n\t\t\t\t\tctx.drawImage(res.path, 60, 100, (_this.phoneW - 120), 260 * scaleH, 0); //绘制图\n\t\t\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\t_this.canvasFlag = true;\n\t\t\t\t\t// uni.showToast({\n\t\t\t\t\t// \ttitle: '海报生成失败',\n\t\t\t\t\t// \tduration: 2000,\n\t\t\t\t\t// \ticon: 'none'\n\t\t\t\t\t// });\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 小程序码\n\t\t\twx.getImageInfo({\n\t\t\t\tsrc: code,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tctx.drawImage(res.path, 75, _this.phoneH / 2 + 60, 60, 60)\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\t_this.canvasFlag = true;\n\t\t\t\t\t// uni.showToast({\n\t\t\t\t\t// \ttitle: '海报生成失败',\n\t\t\t\t\t// \tduration: 2000,\n\t\t\t\t\t// \ticon: 'none'\n\t\t\t\t\t// });\n\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t\t// 小程序码end\n\n\t\t\t// 小程序的名称end\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#111111') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\tctx.fillText('长按识别小程序', _this.phoneW / 2 - 40, _this.phoneH / 2+80,  70, 70);\n\t\t\t// 长按/扫描识别查看商品end\n\t\t\t//绘制保存按钮\n\t\t\tctx.save();\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#FFFFFF') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\t//绘制保存按钮\n\t\t\tctx.save();\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#333333') //文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\tctx.fillText(`分享来自${_this.posterObj.text}`, _this.phoneW / 2-40, _this.phoneH / 2 + 110, 90);\n\t\t\t// this.roundRect(ctx, (this.phoneW - 160) / 2, (this.phoneH - 55), 160, 36, 18, '#ff3600', '#ff6a00', 'btn')\n\t\t\tctx.restore();\n\t\t\twx.hideLoading();\n\t\t},\n\n\t\t// 保存到系统相册\n\t\tsaveCanvasImage() {\n\t\t\tconsole.log('点击了保存')\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '保存中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\t// 1-把画布转化成临时文件\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: 50,\n\t\t\t\ty: 40,\n\t\t\t\twidth: (this.phoneW - 100), // 画布的宽\n\t\t\t\theight: (this.phoneH - 120), // 画布的高\n\t\t\t\tdestWidth: (this.phoneW - 100) * 5,\n\t\t\t\tdestHeight: (this.phoneH - 120) * 5,\n\t\t\t\tcanvasId: 'myCanvas',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t// 2-保存图片至相册\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\twx.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '图片保存成功，可以去分享啦~',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t_this.canvasCancelEvn();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twx.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存失败，稍后再试',\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 取消海报\n\t\tcanvasCancelEvn() {\n\t\t\tconsole.log()\n\t\t\tthis.$emit('cancel', true)\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}